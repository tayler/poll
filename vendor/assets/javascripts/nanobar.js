/* http://nanobar.micronube.com/  ||  https://github.com/jacoborus/nanobar/    MIT LICENSE */
var Nanobar=function(){"use strict";var a,b,c,d,e,f,g={width:"100%",height:"4px",zIndex:9999,top:"0"},h={width:0,height:"100%",clear:"both",transition:"height .3s"};return a=function(a,b){var c;for(c in b)a.style[c]=b[c];a.style.float="left"},d=function(){var a=this,b=this.width-this.here;b<.1&&b>-.1?(e.call(this,this.here),this.moving=!1,100==this.width&&(this.el.style.height=0,setTimeout(function(){a.cont.el.removeChild(a.el)},300))):(e.call(this,this.width-b/4),setTimeout(function(){a.go()},16))},e=function(a){this.width=a,this.el.style.width=this.width+"%"},f=function(){var a=new b(this);this.bars.unshift(a)},b=function(b){this.el=document.createElement("div"),this.el.style.backgroundColor=b.opts.bg,this.width=0,this.here=0,this.moving=!1,this.cont=b,a(this.el,h),b.el.appendChild(this.el)},b.prototype.go=function(a){a?(this.here=a,this.moving||(this.moving=!0,d.call(this))):this.moving&&d.call(this)},c=function(b){var d,c=this.opts=b||{};c.bg=c.bg||"#000",this.bars=[],d=this.el=document.createElement("div"),a(this.el,g),c.id&&(d.id=c.id),d.style.position=c.target?"relative":"fixed",c.target?c.target.insertBefore(d,c.target.firstChild):document.getElementsByTagName("body")[0].appendChild(d),f.call(this)},c.prototype.go=function(a){this.bars[0].go(a),100==a&&f.call(this)},c}();