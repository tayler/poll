var angles=angular.module("angles",[]);angles.chart=function(a){return{restrict:"A",scope:{data:"=",options:"=",id:"@",width:"=",height:"=",resize:"=",chart:"@",segments:"@",responsive:"=",tooltip:"=",legend:"="},link:function(b,c){var d=c[0].getContext("2d"),e=!1;b.size=function(){b.width<=0?(c.width(c.parent().width()),d.canvas.width=c.width()):(d.canvas.width=b.width||d.canvas.width,e=!0),b.height<=0?(c.height(c.parent().height()),d.canvas.height=d.canvas.width/2):(d.canvas.height=b.height||d.canvas.height,e=!0)},b.$watch("data",function(h,i){g&&g.destroy(),b.options={},h&&(b.chart&&(a=b.chart),e&&(b.size(),f=new Chart(d)),(b.responsive||b.resize)&&(b.options.responsive=!0),void 0!==b.responsive&&(b.options.responsive=b.responsive),g=f[a](b.data,b.options),g.update(),b.legend&&angular.element(c[0]).parent().after(g.generateLegend()))},!0),b.$watch("tooltip",function(a,b){if(g&&g.draw(),void 0!==a&&g.segments&&!(!isFinite(a)||a>=g.segments.length||a<0)){var c=g.segments[a];c.save(),c.fillColor=c.highlightColor,g.showTooltip([c]),c.restore()}},!0),b.size();var g,f=new Chart(d)}}},angles.directive("chart",function(){return angles.chart()}),angles.directive("linechart",function(){return angles.chart("Line")}),angles.directive("barchart",function(){return angles.chart("Bar")}),angles.directive("radarchart",function(){return angles.chart("Radar")}),angles.directive("polarchart",function(){return angles.chart("PolarArea")}),angles.directive("piechart",function(){return angles.chart("Pie")}),angles.directive("doughnutchart",function(){return angles.chart("Doughnut")}),angles.directive("donutchart",function(){return angles.chart("Doughnut")});